# ๐ ุชูุซูู API ูุธุงู ุดูุชูู

ูุฑุญุจุงู ุจู ูู ุชูุซูู API ูุธุงู ุดูุชูู. ูููุฑ ูุฐุง ุงููุธุงู ููุตุฉ ููุทูุงุจ ููุดุงุฑูุฉ ูุงููุตูู ุฅูู ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ.

[English Version](api.md)

---

## ๐ ุงูุญูุงูุฉ ูุงูุชูุซูู
ูุณุชุฎุฏู ุงูู API ูุธุงู **Laravel Sanctum**.
- ุฌููุน ุงููุณุงุฑุงุช ุงููุญููุฉ ุชุชุทูุจ ุฅุฑุณุงู `Bearer {token}` ูู ุงูู `Authorization` header.
- ุงูุฃุฏูุงุฑ: `user` (ุงูุชุฑุงุถู)ุ `admin` (ุฃุฏูู).

---

## ๐ ูุณุงุฑุงุช ุงููููุฉ (Authentication)

| ุงูุทุฑููุฉ | ุงููุณุงุฑ | ุงููุตูู | ุงููุตู |
| :--- | :--- | :--- | :--- |
| `POST` | `/api/register` | ุนุงู | ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ (`name`, `email`, `password`, `password_confirmation`) |
| `POST` | `/api/login` | ุนุงู | ุชุณุฌูู ุงูุฏุฎูู ูุงูุญุตูู ุนูู ุงูุชููู (`email`, `password`) |
| `POST` | `/api/logout` | ูุณุชุฎุฏู | ุฅูุบุงุก ุงูุชููู ุงูุญุงูู |

> **ููุงุญุธุฉ:** ุงูุชุณุฌูู ููุชุตุฑ ุนูู ุงูุฅููููุงุช ุงูุฌุงูุนูุฉ ุงูุชู ุชูุชูู ุจู `@uob.edu.ly`.

---

## ๐ ุงูููุงุฏ (Subjects)
ูุณุงุฑุงุช ูุฅุฏุงุฑุฉ ูุนุฑุถ ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ.

| ุงูุทุฑููุฉ | ุงููุณุงุฑ | ุงููุตูู | ุงููุตู |
| :--- | :--- | :--- | :--- |
| `GET` | `/api/subjects` | ุนุงู | ุนุฑุถ ูู ุงูููุงุฏ (ูุฏุนู ุงูุจุญุซ ุนุจุฑ `?search=`) |
| `GET` | `/api/subjects/{code}` | ุนุงู | ุชูุงุตูู ุงููุงุฏุฉ (ุงูุดุจุงุชุฑุ ุงููุตููุ ุงูููุงุฆู) |
| `GET` | `/api/subjects/{code}/chapters/{num}` | ุนุงู | ุนุฑุถ ุงูุดูุชุงุช ุงูุฎุงุตุฉ ุจุฑูู ุดุงุจุชุฑ ูุนูู |
| `POST` | `/api/admin/subjects` | **ุฃุฏูู** | ุฅุถุงูุฉ ูุงุฏุฉ ุฌุฏูุฏุฉ (`name`, `code`) |
| `PATCH/PUT` | `/api/admin/subjects/{code}` | **ุฃุฏูู** | ุชุนุฏูู ุจูุงูุงุช ูุงุฏุฉ |
| `DELETE` | `/api/admin/subjects/{code}` | **ุฃุฏูู** | ุญุฐู ูุงุฏุฉ |

---

## ๐ ุงูุดูุชุงุช (Sheets)
ูุณุงุฑุงุช ูุฑูุน ูุฅุฏุงุฑุฉ ูุชุญููู ุงููููุงุช.

| ุงูุทุฑููุฉ | ุงููุณุงุฑ | ุงููุตูู | ุงููุตู |
| :--- | :--- | :--- | :--- |
| `GET` | `/api/sheets/{id}` | ุนุงู* | ุนุฑุถ ุจูุงูุงุช ุงูุดูุช |
| `GET` | `/api/sheets/{id}/download` | ุนุงู* | ุงูุญุตูู ุนูู ุฑุงุจุท ุงูุชุญููู ูุฒูุงุฏุฉ ุนุฏุงุฏ ุงูุชุญูููุงุช |
| `POST` | `/api/sheets/upload` | ูุณุชุฎุฏู | ุฑูุน ุดูุช ุฌุฏูุฏ (PDF, ุจุญุฏ ุฃูุตู 20 ููุฌุงุจุงูุช) |
| `GET` | `/api/my-sheets` | ูุณุชุฎุฏู | ุนุฑุถ ุงูุดูุชุงุช ุงูุชู ุฑูุนูุง ุงููุณุชุฎุฏู ุงูุญุงูู |
| `DELETE` | `/api/sheets/{id}` | ุงููุงูู/ุงูุฃุฏูู | ุญุฐู ุดูุช |

### ๐ค ุจุงุฑุงูุชุฑุงุช ุงูุฑูุน (Upload)
| ุงูุญูู | ุงูููุน | ูุทููุจ | ุงููุตู |
| :--- | :--- | :--- | :--- |
| `title` | `string` | ูุนู | ุนููุงู ุงูุดูุช |
| `subject_id` | `integer` | ูุนู | ูุนุฑู ุงููุงุฏุฉ |
| `type` | `enum` | ูุนู | `chapter`, `midterm`, `final` |
| `chapter_number` | `integer` | ูุดุฑูุท | ูุทููุจ ุฅุฐุง ูุงู ุงูููุน `chapter` |
| `file` | `file` | ูุนู | ููู PDF (ุงูุฃูุตู 20480 ููููุจุงูุช) |

> \* ุงููุตูู ุงูุนุงู ููุชุตุฑ ุนูู ุงูุดูุชุงุช "ุงููุนุชูุฏุฉ". ุงููุงูู ูุงูุฃุฏูู ูููููู ุฑุคูุฉ ุงูุดูุชุงุช "ุงููุนููุฉ".

---

## ๐ ุฑูุงุจุฉ ุงูุฃุฏูู (Admin Moderation)

| ุงูุทุฑููุฉ | ุงููุณุงุฑ | ุงููุตูู | ุงููุตู |
| :--- | :--- | :--- | :--- |
| `GET` | `/api/admin/sheets/pending` | **ุฃุฏูู** | ุนุฑุถ ูู ุงูุดูุชุงุช ุงูุชู ุชูุชุธุฑ ุงููุฑุงุฌุนุฉ |
| `PATCH` | `/api/admin/sheets/{id}/approve` | **ุฃุฏูู** | ุงูููุงููุฉ ุนูู ุดูุช ูุนูู |
| `PATCH` | `/api/admin/sheets/{id}/reject` | **ุฃุฏูู** | ุฑูุถ ุดูุช ูุนูู |

---

## ๐ก ููุงุญุธุงุช ุฅุถุงููุฉ
- **ุฃููุงุฏ ุงูููุงุฏ:** ูุชู ุชุญููู ุฌููุน ุงูุฃููุงุฏ ุชููุงุฆูุงู ุฅูู ุญุฑูู ูุจูุฑุฉ (ูุซูุงู `se311` ุชุตุจุญ `SE311`).
- **ุงูุชุฎุฒูู:** ูุชู ุชุฎุฒูู ุงููููุงุช ุนูู ุณุญุงุจุฉ **Cloudinary**.
- **ุญุงูุงุช ุงูุดูุช:**
  - `pending`: ูู ุงูุชุธุงุฑ ูุฑุงุฌุนุฉ ุงูุฃุฏูู.
  - `approved`: ูุชุงุญ ููุฌููุน.
  - `rejected`: ูุฑููุถ ูุบูุฑ ุธุงูุฑ ููุนุงูุฉ.
